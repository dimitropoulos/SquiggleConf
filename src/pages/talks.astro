---
import ContentLayout from "~/layouts/ContentLayout.astro";
import HeroForPage from "~/components/HeroForPage.astro";
import PrimaryContents from "~/components/PrimaryContents.astro";
import { TalkFormat, talks } from "~/data";
import Talk from "~/components/Talk.astro";
import BodyText from "~/components/BodyText.astro";
import TagLine from "~/components/TagLine.astro";
import HeadingFlanked from "~/components/HeadingFlanked.astro";

const sections = [
	{
		talkFormat: "Full",
		name: "Full-Length Talks",
		description: "30 minute talks with 5 minutes for questions",
		date: "October 3rd",
	},
	{
		talkFormat: "Lightning",
		name: "Lightning Talks",
		description: "10 minute talks with 3 minutes for questions",
		date: "October 3rd",
	},
	{
		talkFormat: "Workshop",
		name: "Workshops",
		description: "2 hour hands-on sessions",
		date: "October 4th",
	},
] satisfies {
	talkFormat: TalkFormat;
	name: string;
	description: string;
	date: string;
}[];
---

<ContentLayout>
	<HeroForPage>Talks</HeroForPage>

	<PrimaryContents>
		<TagLine />

		{
			sections.map(({ talkFormat, name, description, date }) => (
				<>
					<HeadingFlanked id={name.toLowerCase().replaceAll(" ", "-")}>
						{name}
					</HeadingFlanked>
					<BodyText as="p">{description}</BodyText>
					<BodyText as="p">{date}</BodyText>
					<ul class="talks-list">
						{talks
							.filter((t) => t.talkFormat === talkFormat)
							.map((talk) => (
								<Talk talk={talk} />
							))}
					</ul>
				</>
			))
		}

		<BodyText as="p" class="talks-body-text" size="large" width="lean">
			You’ll emerge with the best techniques to supercharge your projects —
			whether you’re already a tooling wizard or trying to become one.
		</BodyText>
	</PrimaryContents>
</ContentLayout>

<style>
	.talks-list {
		display: flex;
		flex-direction: column;
		gap: 2rem;
		margin: 2rem;
		padding: 0 var(--widthBodyPadding);
		list-style: none;
	}

	@media (min-width: 1017px) {
		.talks-list {
			margin: 4rem 2rem;
		}
	}
</style>
