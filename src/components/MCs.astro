---
import { talks } from "~/data";

import BodyText from "~/components/BodyText.astro";
import Heading from "./Heading.astro";
import SquiggleFlanked from "./SquiggleFlanked.astro";
import FullSection from "./FullSection.astro";
import Speaker from "./Speaker.astro";
import SubtleCard from "./SubtleCard.astro";
import { peopleBySlug } from "~/data/notion-data";
---

<FullSection class="full-mcs">
	<SquiggleFlanked class="squiggle-flanked" width="lean">
		<Heading class="heading" id="mcs" level="h2" link>MCs</Heading>
	</SquiggleFlanked>

	<ul class="mcs-list">
		{
			(
				["nick-nisi", "fatimah-sarah-khalid"] as (keyof typeof peopleBySlug)[]
			).map((person) => (
				<SubtleCard class="speaker-card">
					<Speaker
						href={`/speakers#${peopleBySlug[person].slug}`}
						person={peopleBySlug[person]}
					/>
				</SubtleCard>
			))
		}
	</ul>
</FullSection>

<style>
	.full-mcs {
		/* TODO no idea what to put here to get the section to be full width without other side effects */
	}

	.squiggle-flanked {
		margin-bottom: 3rem;
	}

	.heading {
		font-size: var(--fontSizeH2);
	}

	.speakers-body-text {
		margin: auto;
	}

	.mcs-list {
		display: flex;
		flex-direction: column;
		font-family: var(--fontFamilyBody);
		gap: 2rem;
		justify-content: center;
		padding: 2rem 0;
	}

	.speaker-card {
		max-width: 70%;
		width: 100%;
	}

	@media (min-width: 700px) {
		.mcs-list {
			align-items: center;
			justify-content: center;
			flex-direction: row;
			flex-wrap: wrap;
			margin: auto;
			max-width: var(--widthBodyLean);
		}

		.speaker-card {
			width: 48%;
		}
	}

	@media (min-width: 1017px) {
		.mcs-list {
			max-width: var(--widthBodyFull);
		}

		.speaker-card {
			width: 31%;
		}
	}
</style>
